---
title: "Java開発環境 JDKのインストール"
sidebar_position: 1
---

## JDK(JavaSDK)

プログラミング言語Javaの開発環境をJava Software Development Kitと呼び、JavaSDKやJDKなどと略されます。  
Javaでの開発は、複数あるJDKのどれかをインストールすることから始まります。

Javaでの開発にオススメのIDEである、IntelliJ IDEAからもJDKをインストールできるようになっています。  
ですが、この講義ではこの講義以外でもJDKを使った開発ができるように、一括でバージョン管理が可能なソフトウェアを使用して必要なバージョンのJDKをインストールします。

## JDKの種類

JDKにはさまざまな提供元があり、インストールするJDKの種類が異なることによって講義を円滑に進められない場合もあります。
そのため、講義で使用するJDKはこの資料で指定しているものを必ずインストールするようにしてください。

### JDKの種類が混乱するほど増えている理由

JDKと一言で言っても、開発元であるOracle以外にもいくつかの企業や団体がJDKとしてリリースしているものがあり、その配布元ごとにさまざまなバージョンのものがあります。

まず、Javaはオープンソースソフトウェアです。  
(単純にソフトウェアとしての側面の他に、エコシステムとしての側面もあります。)

Javaの商標は、開発元であるOracleが保持しています。なので、本来はJava™のような書き方をするのが正しいのかもしれません。

JDKの種類が多い理由として、オープンソースソフトウェアである点が第一に挙げられます。商標自体はOracleが保持していますが、JDK自体のソースコードの取得は開かれているので、それをビルドしてリリースする企業やコミュニティの数だけ、JDKの種類が増えます。
JDKの基本的な機能がその種類ごとで大きく異なってしまうということはあまり考えにくいのですが、状況によっては選んだJDKによって動作が異なることもあり得ます。
Javaでの開発を始める前に、開発を行う企業やコミュニティで使用されているJDKを確認して、それに合わせるように心がけましょう。

# 開発環境のインストールを行います

この講義で使用するJavaのバージョンは、OpenJDKと呼ばれるオープン版のJDKを使用し、以下の開発バージョンを使います。

- `OpenJDK 17.0.6 (Microsoft)`

※この資料作成時点のLTS版（長期サポート対応バージョン）の中でもっとも新しいものを使用しています。


## SDKMANを使用したバージョン管理

JDKのインストールの前に、JDKやJavaの開発ライブラリのバージョン別インストールをサポートしてくれるバージョン管理ツールをインストールします。
SDKMANについて、詳しくは以下のリンク先をみてください。

[Home - SDKMAN! the Software Development Kit Manager](https://sdkman.io/)

## SDKMANのインストール

1. ターミナルを起動する
    - macOSのターミナルソフトウェアが起動すればよいです。  ターミナルソフトウェアが分からなければ、以下の操作で起動するウィンドウを使います。
    - `[⌘] + [space]`で `Spotlight` から `terminal` を起動
2. 以下のコマンドを実行してダウンロードする（`$`は入力しません）
    - $ `curl -s "https://get.sdkman.io" | bash`
3. 以下のコマンドを実行して初期設定を行う
    - $ `source "$HOME/.sdkman/bin/sdkman-init.sh"`
4. 以下のコマンドで正しくインストールされたかを確認する
    - $ `sdk version`
    - `sdkman 5.18.1`のようなバージョン情報が出力されていればOKです。
5. 使用しているターミナルソフトウェアに合わせて環境変数を設定

macOSのターミナルソフトウェアとして、zshを使用している場合は以下のコマンドを使用します。（`$`は入力しません）

```zsh
$ echo 'export JAVA_HOME=$HOME/.sdkman/candidates/java/current' >> ~/.zprofile
$ echo 'export PATH=$JAVA_HOME/bin:$PATH' >> ~/.zprofile
$ source ~/.zprofile
```

これらの環境変数の設定は、他のJavaを参照するアプリケーションのために設定しておきます。

## OpenJDKインストール

1. ターミナルを起動
2. $ `sdk list java` で現在インストール可能なJavaを一覧表示できます。（開かれたテキストはvi形式です。次の行はエンターキー、次のページはスペースキー、閉じる場合は`:q`と入力します。）
3. $ `sdk install java 17.0.6-ms` でJDKがインストールされます。
4. $ `java -version` でインストールされたJDKのバージョンが正しいか確認します。

以下のようにバージョン情報が出力されていればOKです。

```
openjdk 17.0.6 2023-01-17 LTS
OpenJDK Runtime Environment Microsoft-7209853 (build 17.0.6+10-LTS)
OpenJDK 64-Bit Server VM Microsoft-7209853 (build 17.0.6+10-LTS, mixed mode)
```

これでJDKの用意は完了です。


## 複数バージョンのJDKをインストールした場合

SDKMANをインストールして、SDKMAN経由でJDKをインストールした場合は、SDKMANが使用するバージョンをコントロールしてくれるため、設定ファイルを細々と書き換える必要はありません。

SDKMANでJDKのバージョンを切り替えたい場合は、以下のように行います。

```bash
sdk list java                  # インストール可能なバージョンとインストール済みのバージョンを確認
sdk use java 17.0.6-ms         # 現在のターミナルで使用するバージョンを設定
sdk default java 17.0.6-ms     # 標準で使用するバージョンを設定
```





