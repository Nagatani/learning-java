---
title: "Java開発環境 JDKのインストール"
sidebar_position: 1
---

## JDK(JavaSDK)

プログラミング言語Javaの開発環境をJava Software Development Kitと呼び、JavaSDKやJDKなどと略されます。

Javaでの開発は、複数あるJDKのどれかをインストールすることから始まります。

オススメのIDEである、IntelliJ IDEAからもJDKをインストールできるようになっています。  
ですが、この講義ではこの講義以外でもJDKを使った開発ができるように、一括でバージョン管理が可能なソフトウェアを使用して必要なバージョンのJDKをインストールします。

## JDKの種類

JDKにはさまざまな提供元があり、インストールするJDKの種類が異なることによって講義を円滑に進められない場合もあります。
そのため、講義で使用するJDKはこの資料で指定しているものを必ずインストールするようにしてください。

### JDKの種類が混乱するほど増えている理由

JDKと一言で言っても、開発元であるOracle以外にもいくつかの企業や団体がJDKとしてリリースしているものがあり、その配布元ごとにさまざまなバージョンのものがあります。

まず、Javaはオープンソースソフトウェアです。  
(単純にソフトウェアとしての側面の他に、エコシステムとしての側面もあります。)

Javaの商標は、開発元であるOracleが保持しています。  
なので、本来はJava™のような書き方をするのが正しいのかもしれません。

JDKの種類が多い理由として、オープンソースソフトウェアである点が第一に挙げられます。  
ソースコードの取得は開かれているので、それをビルドしてリリースする会社やコミュニティの数だけ、JDKの種類が増えます。

また、昨今ではこのJDKで何を使うか重要視されていることがあります。  
重要視されることになった歴史的な経緯として、2017年9月にJavaの開発元であるOracleが、JDKのサポート体制の変更や、リリースサイクルの変更などが行われたことが挙げられます。
以前まではほとんどの企業や個人が使用していたOracleがビルドしていたOracle JDKの過去のバージョンに関して、無償での不具合のサポートが行われなくなったこと、有償サポートライセンスの追加など複雑化が進みました。
最新バージョンのOracle JDKを使用し続ける場合には、今までと変わらず無償で利用することができるのですが、過去バージョンで作成したソフトウェアを最新バージョンに合わせてアップグレードしなければ動かない状況になっていたり、アップグレード作業に割けるリソースが企業や個人になかったりします。  
体力のある企業では過去バージョンのJDKの使用を避ける傾向になりつつある反面、過去バージョンを使用し続けても何も言われないオープン版を使用する企業も増えている印象を感じます（あくまでも個人的な主観です）。

# 開発環境のインストールを行います

講義で使用するJavaのバージョンは、OpenJDKと呼ばれるオープン版のJDKを使用し、以下の開発バージョンを使います。

- `OpenJDK 17.0.2 (jdk.java.net)`

※この資料作成時点のLTS版（長期サポート対応バージョン）の中でもっとも新しいものを使用しています。


## SDKMANを使用したバージョン管理

JDKのインストールの前に、JDKやJavaの開発ライブラリのバージョン別インストールをサポートしてくれるバージョン管理ツールをインストールします。
SDKMANについて、詳しくは以下のリンク先をみてください。

[Home - SDKMAN! the Software Development Kit Manager](https://sdkman.io/)

## SDKMANのインストール

1. ターミナルを起動する
    - macOSのターミナルソフトウェアが起動すればよいです。  ターミナルソフトウェアが分からなければ、以下の操作で起動するウィンドウを使います。
    - `[⌘] + [space]`で `Spotlight` から `terminal` を起動
2. 以下のコマンドを実行してダウンロードする（`$`は入力しません）
    - $ `curl -s "https://get.sdkman.io" | bash`
3. 以下のコマンドを実行して初期設定を行う
    - $ `source "$HOME/.sdkman/bin/sdkman-init.sh"`
4. 以下のコマンドで正しくインストールされたかを確認する
    - $ `sdk version`
    - `SDKMAN 5.15.0`のようなバージョン情報が出力されていればOKです。
5. 使用しているターミナルソフトウェアに合わせて環境変数を設定

zshを使用している場合は以下のコマンドを使用します。

```zsh
echo 'export JAVA_HOME=$HOME/.sdkman/candidates/java/current' >> ~/.zprofile
echo 'export PATH=$JAVA_HOME/bin:$PATH' >> ~/.zprofile
source ~/.zprofile
```

これらの環境変数の設定は、他のJavaを参照するアプリケーションのために設定しておきます。

## AdoptOpenJDKインストール

1. ターミナルを起動
2. $ `sdk list java` で現在インストール可能なJavaを一覧表示できます。
3. $ `sdk install java 17.0.2-open` でJava11がインストールされます。
4. $ `java -version` でインストールされたJDKのバージョンが正しいか確認します。

以下のようにバージョン情報が出力されていればOKです。

```
openjdk 17.0.2 2022-01-18
OpenJDK Runtime Environment (build 17.0.2+8-86)
OpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)
```

## 複数バージョンのJDKをインストールした場合

SDKMANをインストールして、SDKMAN経由でJDKをインストールした場合は、SDKMANが使用するバージョンをコントロールしてくれるため、設定ファイルを細々と書き換える必要はありません。

SDKMANでJDKのバージョンを切り替えたい場合は、以下のように行います。

```bash
sdk list java                  # インストール可能なバージョンとインストール済みのバージョンを確認
sdk use java 17.0.2-open       # 現在のターミナルで使用するバージョンを設定
sdk default java 17.0.2-open   # 標準で使用するバージョンを設定
```


