---
title: 練習問題4-3
sidebar_position: 9
---

## 3. 車の燃料消費シミュレータクラス

燃費（km/㍑）が設定された車クラスを作成し、走行距離を加算することで最終的な消費燃料を計算するプログラムを作成します。

### 作成するクラス一覧
1. Car
    - 車クラス
2. FuelExpenseCalcurator
    - 消費燃料計算クラス（メインクラス）

### クラス定義詳細
#### Car (Car.java)
##### フィールド

| フィールド名 | 型 | 説明 |
|--------------|------------|---------------------------------------------------------------|
| `fuelEfficiency` | double | 燃費効率[km/L] |
| `totalMileage` | double | 累積走行距離[km] |
| `expendedFuel` | double | 消費燃料の累計[L] |

##### メソッド

| メソッド名 | 戻り値の型 | 引数詳細 | 説明 |
|--------------|-------|-----------|------------------------------------------------------------|
| `run` | double | double mileage | 走行距離を引数で渡し、累計走行距離に加算、走行距離 / 燃費を消費燃料として消費燃料の累計に加算、今回の走行で消費した燃料を返します |
| `printInfo` | なし | なし | 標準出力に「走行距離:00.00km 消費燃料:00.00L」のように情報出力してください。 |

#### FuelExpenseCalcurator (FuelExpenseCalcurator.java)

FuelExpenseCalcuratorでは、mainメソッドだけを持たせ、適当な燃費の車を生成し、標準入力より走行距離を入力させます。

走行距離の入力は、実数での入力を想定していますが、何度も入力させたいので、文字列で「end」と入力されるまで繰り返します。

走行距離が入力される都度、生成した車の`run`メソッドを呼び出し、走行距離、消費燃料を計算させます。
計算が終わったら、`printInfo`メソッドを用いて標準出力にデータを出力します。

入力待受で「end」が入力されたらプログラムを終了してください。

※このクラスのmainメソッドの実装方法および入力の流れなどは、各自で考えて実装を行うこととします。


### 解答例

#### Car.java

<details><summary>クリックで表示する</summary>
<p>

```java
public class Car {

    double fuelEfficiency = 0.0;
    double totalMileage = 0.0;
    double expendedFuel = 0.0;

    double run(double mileage) {

        // 累計走行距離に加算
        totalMileage += mileage;

        // 消費燃料を計算
        double fuel = mileage / fuelEfficiency;

        // 累計消費燃料に加算
        expendedFuel += fuel;

        return fuel;
    }

    void printInfo() {
        System.out.println("走行距離:" + totalMileage + "km 消費燃料:" + expendedFuel + "L");
    }

}
```
</p>
</details>


#### FuelExpenseCalcurator.java

<details><summary>クリックで表示する</summary>
<p>

```java
import java.util.Scanner;

public class FuelExpenseCalcurator {
    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);
        Car mycar = new Car();
        mycar.fuelEfficiency = 20.0;  // 燃費を20.0に設定(ここは標準入力から入力させても良い)

        System.out.println("走行距離を続けて改行区切りで入力してください。(endを入力すると終了します。)");
        while (true) {
            String line = sc.nextLine();
            if (line.equals("end")) return;

            mycar.run(Double.parseDouble(line));
            mycar.printInfo();
        }
    }
}
```
</p>
</details>
