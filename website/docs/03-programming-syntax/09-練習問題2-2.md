---
title: "練習問題2-2"
sidebar_position: 9
---

## 2. 後出しじゃんけんプログラム

ランダムに`0:グー`,`1:チョキ`,`2:パー`が出されるので、それに対して、何を出すかを入力させます。

入力された値とランダムな値を使って勝敗を判定し、勝ち、負け、あいこを画面表示するプログラムを作成します。

### 事前準備
| ファイル名 | クラス名 |
|---|---|
| AtodashiJanken.java | AtodashiJanken |

### やること

1. ランダムな数値を生成して、変数に退避しておきます。
    - サンプルプログラムは後述します。
2. 生成されたランダムな値を元に、「`0:グー,1:チョキ,2:パー`」を画面表示します。
    - これをコンピュータが出す手とします。
3. 「`何を出しますか？ (0:グー,1:チョキ,2:パー)`」のように画面表示し、***数値***を入力させます。
    - （入力された値が数値変換できない場合の考慮は不要です）
4. 入力された数値と、生成され変数に退避したランダムな数値で、勝敗を判定します。
    - 勝敗のメッセージを画面表示しますが、メッセージの内容は、それぞれ「勝ち」「負け」「あいこ」をどこかに表示してください。
5. 入力された値が0,1,2のどれでもない場合は、「あなたの出した手が判断できません。勝負はしません。」というメッセージを出力し、プログラムを終了してください。

### ランダムな値を取得するサンプルプログラム

ランダムな数値を生成するには、`java.util.Random`クラスを使用します。

次のプログラムでは、0〜2のランダムな値を生成し、画面に表示できます。

必要な部分を取り出して課題のプログラムに利用してください。

```java
public class RandomSample {
  public static void main(String[] args) {

    // 変数には、0から3未満のint型の整数値がランダムで格納されます。
    int randomNumber = new java.util.Random().nextInt(3);

    // ↑と同じだけど違う書き方。複数ランダムな値を取得したい場合に使ってください。
    // rnd.nextInt(3)で0〜2のランダムな値を取得できます。
    //java.util.Random rnd = new java.util.Random();
    //int randomNumber = rnd.nextInt(3);

    // 確認用
    System.out.println(randomNumber);
  }
}
```



### 解答例

<details><summary>クリックで表示する</summary>
<p>

```java
/*
  第2回 課題2 後出しじゃんけんプログラム

  ランダムに0:グー,1:チョキ,2:パーが出されるので、それに対して、何を出すかを入力させます。
  入力された値とランダムな値を使って勝敗を判定し、勝ち、負け、あいこを画面表示するプログラムを作成します。
*/

//画面からの入力には必須のライブラリです。必ずインポートしてください
import java.util.Scanner;

class AtodashiJanken {
  public static void main(String[] args) {

    //画面から入力を受け付けるための準備
    Scanner in = new Scanner(System.in);

    //0〜2のランダムな整数値を作成し、cpuに格納します。
    int cpu = new java.util.Random().nextInt(3);

    // コンピュータの手を0:グー、1:チョキ、2:パーとする
    String cpu_hand = cpu == 0 ? "グー" : cpu == 1 ? "チョキ" : "パー";
    /* 以下の書き方と同じ
    String cpu_hand = "";
    switch (cpu) {
      case 0:
        cpu_hand = "グー";
        break;
      case 1:
        cpu_hand = "チョキ";
        break;
      default:  //それ以外
        cpu_hand = "パー";
        break;
    }
    */

    //コンピュータの手を画面表示
    System.out.println("コンピュータは" + cpu_hand + "を出します。");
    System.out.println("あなたは何を出しますか？ (0:グー、1:チョキ、2:パー)");

    //画面からの入力を数値変換してあなたの手とする
    int you = Integer.parseInt(in.nextLine());

    //0,1,2以外が入力された場合のエラーチェック
    if (you < 0 || 2 < you) {
      System.out.println("あなたの出した手が判断できません。勝負はしません。");
      return;
    }

    //あなたの手を0:グー、1:チョキ、2:パーとする
    String you_hand = you == 0 ? "グー" : you == 1 ? "チョキ" : "パー";
    System.out.println("あなたは" + you_hand + "を出します。");

    //あなたの手を基準として、コンピュータの手と比較して勝敗を画面表示する
    switch (you) {
      case 0:
        //あなたはグーを出しています。
        System.out.println(cpu == 0 ? "あいこです。" : cpu == 1 ? "あなたの勝ち！" : "あなたの負け……。");
        break;
      case 1:
        //あなたはチョキを出しています。
        System.out.println(cpu == 0 ? "あなたの負け……。" : cpu == 1 ? "あいこです。" : "あなたの勝ち！");
        break;
      default:
        //あなたはパーを出しています。
        System.out.println(cpu == 0 ? "あなたの勝ち！" : cpu == 1 ? "あなたの負け……。" : "あいこです。");
        break;
    }
  }
}
```
</p>
</details>

