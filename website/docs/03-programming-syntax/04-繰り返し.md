---
title: "繰り返し"
sidebar_position: 4
---

同じ処理や、似たような処理を何度も繰り返したい場合には、コピペではなくwhileやforを使いましょう。

## このページで紹介するもの

次に挙げた命令を紹介します。

- 処理を繰り返す
    - while, do…while
    - for
- 繰り返しを抜ける
    - break;
- 繰り返しを1回だけ飛ばす
    - continue;

## 単純な繰り返し
### while

while文の括弧内で指定された条件に、合致している間は処理を繰り返します。

```java
while ( 条件 ) {
    条件が真値(true)の間、繰り返す処理
}
```

#### 10回繰り返す

while文では、繰り返しの条件となるものが必要となります。

```java
int count = 1;
while ( count <= 10 ) {
    繰り返す処理をここに書きます。
    count += 1;
}
```

### do…while

while文なんだけど、条件の検査が波括弧を閉じるタイミングで行われるため、波括弧内の処理は、条件にかかわらず一度は実行され繰り返し処理です。

```java
do {
    処理を実行後、条件が真値の場合には何度も繰り返す
} while ( 条件 ); //セミコロンを忘れずに付けましょう！
```

存在を忘れがちなので、覚えておきましょう。

#### 10回繰り返す

```java
int count = 1;
do {
    繰り返す処理 (countの初期値が11だった場合でも処理は実行されます)
    count += 1;
} while ( count <= 10 );
```

### for

whileループの繰り返し条件用の数値型変数を簡略化して書けるループ処理です。

初期化された変数が、波括弧内の処理を繰り返す都度、指定された変化ルールにしたがって変化します。  
変化した値が繰り返し条件に合致しなくなった場合、繰り返しから抜けられます。

```java
for (変数の初期化; 繰り返し条件; 繰り返し時の変化) {
    繰り返す処理
}
```

#### 10回繰り返す
```java
for (int count = 1; count <= 10; count++) {
    繰り返す処理
}
```

## 繰り返し処理中に例外的な処理を行う

### 繰り返し中に別の条件でループを抜けたい
#### break

ループ処理にかぎらず、ブロックから抜け出すことができる命令としてbreakがあります。

for文を例にした場合：

```java
for (変数の初期化; 繰り返し条件; 繰り返し時の変化) {
    繰り返す処理
    if ( 別の条件 ) break;
}
```

### 一度だけ処理を飛ばして、次の繰り返しを行う
#### continue

ループ処理中に、continueが実行されると、それ以降の処理は1回の繰り返し処理時のみ飛ばして次の繰り返し処理が実行されます。

```java
for (変数の初期化; 繰り返し条件; 繰り返し時の変化) {
    繰り返す処理
    if ( 別の条件 ) continue;
    別の条件に合致する場合、実行されない処理
}
```

----

# 特殊な繰り返し処理

次に紹介する繰り返し処理は、現時点で使用することができない繰り返し処理です。

後ほど詳しく紹介することになります。ここではざっくりと説明だけしておきます。

1. イテレータ（Iterator）
    + コレクションのような順次的なデータ構造のオブジェクトに対して、反復して処理を繰り返しさせるためのメソッドを実装したもの。
    + 「次の要素があるか」という条件分岐と、「次の要素を取り出す」処理を併せて使用される。
    + 反復子という訳語が用いられる場合もあるけれど、この呼び方は一般的でない。
    + 通常の配列（`int[]など`）のようなものには、コレクションに変換を行った後にしかイテレータが使用できないのであまり意味がない。
2. 拡張for
    + イテレータと同じく配列やコレクションのような順次的なデータ構造のオブジェクトに対して、要素を1つずつ取り出し、すべての要素を順次処理していく際に用いられるfor構文のこと。
    + 配列のインデックスを取得する必要がない場合に直感的な要素の取り出しが可能となる繰り返し処理。
3. stream API
    + コレクションフレームワークなどで作られたデータの集合をstreamとして扱い、そのデータに対してさまざまな処理を行える。
    + ラムダ記法と組み合わせることにより、記述をシンプルにできる。
